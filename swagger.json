{
  "openapi": "3.0.0",
  "info": {
    "title": "Koderunner API",
    "version": "1.0.0",
    "description": "Koderunner 행사 진행을 위한 API 명세서  입니다. 출석 체크, 베팅, 경품 추첨 기능을 포함합니다."
  },
  "paths": {
    "/api/v1/attend/conference/{userId}": {
      "post": {
        "summary": "컨퍼런스 출석 (운영진 QR 스캔)",
        "description": "운영진이 참가자의 QR 코드를 스캔하여 컨퍼런스 출석을 기록하는 API입니다. 최초 출석 시에만 응모권을 발급합니다.",
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "출석 처리 결과",
            "content": {
              "application/json": {
                "example": {
                  "ok": true,
                  "ticketIssued": true,
                  "ticket": 1001
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/attend/session/{eid}/{trackId}/{sessionId}": {
      "post": {
        "summary": "세션 출석 (참가자 입력)",
        "description": "참가자가 세션에 참여 후 4자리 난수를 입력하여 출석을 인증하는 API입니다. 누적 세션 출석 3회마다 응모권이 발급됩니다.",
        "parameters": [
          {
            "name": "eid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "trackId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sessionId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "example": {
                "code": "9821"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "세션 출석 처리 결과",
            "content": {
              "application/json": {
                "example": {
                  "ok": true,
                  "ticketIssued": true,
                  "ticket": 1005,
                  "sessionCount": 3
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/attend/booth/{eid}/{boothId}": {
      "post": {
        "summary": "부스 출석 (참가자)",
        "description": "참가자가 부스를 방문하여 출석을 기록하는 API입니다. 부스에 대해 1회만 유효하며 응모권이 발급됩니다.",
        "parameters": [
          {
            "name": "eid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "boothId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "부스 출석 결과",
            "content": {
              "application/json": {
                "example": {
                  "ok": true,
                  "ticketIssued": true,
                  "ticket": 1022
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/random/{trackId}/{sessionId}": {
      "get": {
        "summary": "세션 출석용 난수 조회",
        "description": "트랙과 세션 ID에 해당하는 4자리 출석용 난수를 조회하는 API입니다. 세션 시작 전 사용됩니다.",
        "parameters": [
          {
            "name": "trackId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "sessionId",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "난수 반환",
            "content": {
              "application/json": {
                "example": {
                  "code": "9821"
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/user/{eid}": {
      "get": {
        "summary": "유저 정보 조회",
        "description": "특정 참가자의 기본 정보, QR 코드, 응모권 목록 및 베팅 정보를 반환하는 API입니다.",
        "parameters": [
          {
            "name": "eid",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "유저 정보",
            "content": {
              "application/json": {
                "example": {
                  "userId": "charlie.shin",
                  "displayName": "Charlie Shin",
                  "qr": "https://.../charlie.shin.png",
                  "lotteryTickets": [
                    1000,
                    1005
                  ],
                  "bettedTeam": "기술기획"
                }
              }
            }
          }
        }
      }
    }
  }
}